{{ 'swiper-bundle.min.css' | asset_url | stylesheet_tag }}
{{ 'swiper-bundle.min.js' | asset_url | script_tag }}

<div class="swiper-container swiper-feature feature feature-fullscreen">
    <div class="swiper-wrapper">
        {% for block in section.blocks %}
            <div class="swiper-slide" style="background-image: url({{ block.settings.featureImage | img_url: 'x1440' }})">
                <div class="feature-card">
                    <h2 class="feature-title">{{ block.settings.title }}</h2>
                    <p class="feature-subtitle">{{ block.settings.subtitle }}</p>
                    <a href="{{ block.settings.action.url }}" class="feature-action">{{ block.settings.action-text }}</a>
                </div>
            </div>
        {% endfor %}
    </div>
    
    <div class="swiper-pagination"></div>

    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
</div>

<script>
const featureSwiper = new Swiper('.swiper-feature', {
    loop: true,
    autoplay: {
        delay: 3000,
        disableOnInteraction: false
    },

    // If we need pagination
    pagination: {
        el: '.swiper-pagination',
    },

    // Navigation arrows
    navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
    }
});
</script>

{% schema %}
    {
        "name": "Feature Slider",
        "tag": "section",
        "class": "feature-slider",
        "settings": [
        ],
        "blocks":[
            {
                "type": "featureImages",
                "name": "Slider",
                "settings":[
                    {
                        "type": "image_picker",
                        "id": "featureImage",
                        "label": "Background Image"
                    },
                    {
                        "type": "text",
                        "id": "title",
                        "label": "Title",
                        "default": "Title",
                        "info": "Enter Title",
                        "placeholder": "Title"
                    },
                    {
                        "type": "text",
                        "id": "subtitle",
                        "label": "Subtitle",
                        "default": "Subtitle",
                        "info": "Enter Subtitle",
                        "placeholder": "Subtitle"
                    },
                    {
                        "type": "text",
                        "id": "action-text",
                        "label": "Action Text",
                        "placeholder": "Action Text",
                        "default": "Action"
                    },
                    {
                        "type": "url",
                        "id": "action",
                        "label": "Action Link",
                        "info": "Select target page"
                    }
                ]
            }
        ]
    }
{% endschema %}